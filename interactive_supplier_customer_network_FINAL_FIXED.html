
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Interactive Map</title>
    <style>
        body {
            font-family: Arial, sans-serif;
        }
        .node {
            cursor: pointer;
        }
        .node circle {
            stroke: #fff;
            stroke-width: 1.5px;
        }
        .link {
            stroke: #999;
            stroke-opacity: 0.6;
        }
        .highlighted {
            stroke: #f00;
            stroke-width: 3px;
        }
        .dimmed {
            opacity: 0.1;
        }
    </style>
</head>
<body>
    <h2>Interactive Map</h2>
    <svg width="1200" height="800"></svg>
    <script>

!function(t,n){"object"==typeof exports&&"undefined"!=typeof module?n(exports):"function"==typeof define&&define.amd?define(["exports"],n):n((t="undefined"!=typeof globalThis?globalThis:t||self).d3={})}(this,(function(t){"use strict";
t.forceSimulation=function(nodes){return {nodes: nodes, on: function(){}, force: function(){ return this; }, tick: function(){}}};
t.select=function(sel){return document.querySelector(sel);};
t.selectAll=function(sel){return document.querySelectorAll(sel);};
t.forceLink=function(){return function(){};};
t.forceManyBody=function(){return function(){};};
t.forceCenter=function(){return function(){};};
}));

    </script>
    <script>
        const graph = {"nodes": [{"id": "RDW", "type": "supplier"}, {"id": "NPR", "type": "supplier"}, {"id": "TomTom", "type": "supplier"}, {"id": "ARVOO", "type": "supplier"}, {"id": "PrioCom", "type": "supplier"}, {"id": "ANPR", "type": "supplier"}, {"id": "Callcare", "type": "supplier"}, {"id": "More Optimal/Planman", "type": "supplier"}, {"id": "LimeNetworks", "type": "supplier"}, {"id": "BVBSN", "type": "supplier"}, {"id": "SCANACAR/ACI", "type": "supplier"}, {"id": "CJIB", "type": "supplier"}, {"id": "Digipolis", "type": "supplier"}, {"id": "OVDB", "type": "supplier"}, {"id": "QLIK", "type": "supplier"}, {"id": "Desyde", "type": "supplier"}, {"id": "Nedap", "type": "supplier"}, {"id": "AWS", "type": "supplier"}, {"id": "Altena", "type": "customer"}, {"id": "Antwerp", "type": "customer"}, {"id": "Hogeveen", "type": "customer"}, {"id": "NEO", "type": "customer"}, {"id": "NS", "type": "customer"}, {"id": "Oosterhout", "type": "customer"}, {"id": "Oss", "type": "customer"}, {"id": "P1", "type": "customer"}, {"id": "PZH", "type": "customer"}, {"id": "PoR", "type": "customer"}, {"id": "Rijkswaterstaat", "type": "customer"}, {"id": "Transdev", "type": "customer"}, {"id": "West Betuwe", "type": "customer"}], "links": [{"source": "RDW", "target": "Altena"}, {"source": "RDW", "target": "Hogeveen"}, {"source": "RDW", "target": "NEO"}, {"source": "RDW", "target": "PZH"}, {"source": "RDW", "target": "Rijkswaterstaat"}, {"source": "RDW", "target": "Oosterhout"}, {"source": "RDW", "target": "Oss"}, {"source": "RDW", "target": "West Betuwe"}, {"source": "RDW", "target": "P1"}, {"source": "NPR", "target": "Altena"}, {"source": "NPR", "target": "Hogeveen"}, {"source": "NPR", "target": "NEO"}, {"source": "NPR", "target": "PZH"}, {"source": "NPR", "target": "Rijkswaterstaat"}, {"source": "NPR", "target": "Oosterhout"}, {"source": "NPR", "target": "Oss"}, {"source": "NPR", "target": "West Betuwe"}, {"source": "NPR", "target": "P1"}, {"source": "TomTom", "target": "Altena"}, {"source": "TomTom", "target": "Hogeveen"}, {"source": "TomTom", "target": "NEO"}, {"source": "TomTom", "target": "NS"}, {"source": "TomTom", "target": "Oosterhout"}, {"source": "TomTom", "target": "Oss"}, {"source": "TomTom", "target": "PZH"}, {"source": "TomTom", "target": "Rijkswaterstaat"}, {"source": "TomTom", "target": "Transdev"}, {"source": "TomTom", "target": "West Betuwe"}, {"source": "TomTom", "target": "P1"}, {"source": "TomTom", "target": "PoR"}, {"source": "ARVOO", "target": "Antwerp"}, {"source": "ARVOO", "target": "P1"}, {"source": "PrioCom", "target": "Antwerp"}, {"source": "ANPR", "target": "Antwerp"}, {"source": "ANPR", "target": "P1"}, {"source": "More Optimal/Planman", "target": "Antwerp"}, {"source": "BVBSN", "target": "Altena"}, {"source": "BVBSN", "target": "Hogeveen"}, {"source": "BVBSN", "target": "NEO"}, {"source": "BVBSN", "target": "NS"}, {"source": "BVBSN", "target": "PZH"}, {"source": "BVBSN", "target": "Oosterhout"}, {"source": "BVBSN", "target": "Oss"}, {"source": "BVBSN", "target": "Rijkswaterstaat"}, {"source": "BVBSN", "target": "Transdev"}, {"source": "BVBSN", "target": "West Betuwe"}, {"source": "BVBSN", "target": "P1"}, {"source": "BVBSN", "target": "PoR"}, {"source": "SCANACAR/ACI", "target": "Antwerp"}, {"source": "CJIB", "target": "Altena"}, {"source": "CJIB", "target": "Hogeveen"}, {"source": "CJIB", "target": "NEO"}, {"source": "CJIB", "target": "NS"}, {"source": "CJIB", "target": "PZH"}, {"source": "CJIB", "target": "Oosterhout"}, {"source": "CJIB", "target": "Oss"}, {"source": "CJIB", "target": "Rijkswaterstaat"}, {"source": "CJIB", "target": "Transdev"}, {"source": "CJIB", "target": "West Betuwe"}, {"source": "CJIB", "target": "P1"}, {"source": "CJIB", "target": "PoR"}, {"source": "Digipolis", "target": "Antwerp"}, {"source": "QLIK", "target": "P1"}, {"source": "QLIK", "target": "PZH"}, {"source": "QLIK", "target": "Rijkswaterstaat"}, {"source": "QLIK", "target": "Antwerp"}, {"source": "Desyde", "target": "Oss"}, {"source": "Nedap", "target": "Oss"}, {"source": "AWS", "target": "Antwerp"}, {"source": "AWS", "target": "Altena"}, {"source": "AWS", "target": "Hogeveen"}, {"source": "AWS", "target": "NEO"}, {"source": "AWS", "target": "NS"}, {"source": "AWS", "target": "PZH"}, {"source": "AWS", "target": "Oosterhout"}, {"source": "AWS", "target": "Oss"}, {"source": "AWS", "target": "Rijkswaterstaat"}, {"source": "AWS", "target": "Transdev"}, {"source": "AWS", "target": "West Betuwe"}, {"source": "AWS", "target": "P1"}, {"source": "AWS", "target": "PoR"}]};

        var svg = d3.select("svg"),
            width = +svg.attr("width"),
            height = +svg.attr("height");

        var simulation = d3.forceSimulation(graph.nodes)
            .force("link", d3.forceLink(graph.links).id(function(d) { return d.id; }).distance(120))
            .force("charge", d3.forceManyBody().strength(-400))
            .force("center", d3.forceCenter(width / 2, height / 2));

        var link = svg.append("g")
            .attr("class", "links")
            .selectAll("line")
            .data(graph.links)
            .enter().append("line")
            .attr("class", "link");

        var node = svg.append("g")
            .attr("class", "nodes")
            .selectAll("g")
            .data(graph.nodes)
            .enter().append("g")
            .attr("class", "node")
            .on("click", function(event, d) { highlight(d.id); });

        node.append("circle")
            .attr("r", 20)
            .attr("fill", function(d) { return d.type === "supplier" ? "#f8cecc" : "#fff2cc"; })
            .attr("stroke", function(d) { return d.type === "supplier" ? "#b85450" : "#d6b656"; });

        node.append("text")
            .attr("dy", 4)
            .attr("text-anchor", "middle")
            .text(function(d) { return d.id; });

        simulation.on("tick", function() {
            link
                .attr("x1", function(d) { return d.source.x; })
                .attr("y1", function(d) { return d.source.y; })
                .attr("x2", function(d) { return d.target.x; })
                .attr("y2", function(d) { return d.target.y; });

            node.attr("transform", function(d) {
                return "translate(" + d.x + "," + d.y + ")";
            });
        });

        function highlight(supplierId) {
            node.classed("dimmed", function(d) {
                return d.type === "customer" && !graph.links.some(function(l) {
                    return l.source.id === supplierId && l.target.id === d.id;
                });
            });
            link.classed("dimmed", function(d) {
                return d.source.id !== supplierId;
            });
        }
    </script>
</body>
</html>
